From 494fea0d6c628fb0e56a8f20c7f629c4dceb2e55 Mon Sep 17 00:00:00 2001
From: Mikolaj Izdebski <mizdebsk@redhat.com>
Date: Thu, 11 Jul 2013 14:47:05 +0200
Subject: [PATCH] Add support for OpenJDK 8

Patch provided by Florian Weimer in rhbz#982683
---
 java-utils/java-functions | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/java-utils/java-functions b/java-utils/java-functions
index 41b470c..5bda299 100644
--- a/java-utils/java-functions
+++ b/java-utils/java-functions
@@ -169,8 +169,8 @@ set_jvm_dirs() {
         # Yuck, "grep -o" would be cleaner, but requires GNU grep >= 2.5.
         # This could be improved/simplified if sed had non-greedy matching.
         JAVA_VERSION=$($JAVACMD $opt 2>&1 | sed -n \
-            -e '/java \(full \)*version "/s/'$re'/<<<\1>>>/' \
-            -e '/java \(full \)*version "/s/.*<<<\([^>]\{1,\}\)>>>.*/\1/p')
+            -e '/\(openjdk\|java\) \(full \)*version "/s/'$re'/<<<\1>>>/' \
+            -e '/\(openjdk\|java\) \(full \)*version "/s/.*<<<\([^>]\{1,\}\)>>>.*/\1/p')
         if [ -n "$JAVA_VERSION" ] ; then
             break
         fi
-- 
1.8.1.4

